import{a as de,r as m,R as we,e as fe,f as ke,j as r,F as ue,d as A,g as oe,h as ve,i as Ne,k as De,l as Se,m as z,n as he,o as Le,p as Ie,M as Ae,q as je,t as K,D as qe,v as ie,w as _e,x as Me,V as Re,y as Fe,z as Ee,B as He,C as Ue,E as Ge,I as Ye,J as $e,K as Je,P as xe,L as We,O as Qe,Q as ye,W as Ve,G as Oe,X as ze,Y as Ke,Z as Ze,_ as Xe,$ as et,a0 as tt,a1 as at,a2 as rt}from"./index.9452cb18.js";const nt=({setFormInputsData:P,formInputsData:c,setSelectedTeam:B,selectedTeam:x,handleChange:w,errors:g,setSelectedSportName:D})=>{const{data:l}=de(null),[s,f]=m.exports.useState([]),[t,S]=we.useState([]),[I,L]=m.exports.useState(0),{data:v}=fe({club_id:l==null?void 0:l.club},{skip:!(l!=null&&l.club)}),{data:p}=ke({sport_id:I},{skip:!I});return m.exports.useEffect(()=>{S([]),P({...c,team:""}),B(null),v&&v.results&&f(v.results),p&&p.results.length>0?S(p.results):(S([]),P({...c,team:""}),B(null))},[v,p,I]),r(ue,{children:A("div",{className:"flex gap-4 w-full my-4",children:[r("div",{className:"w-1/2",children:r(oe,{error:g.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:s==null?void 0:s.map(k=>({value:k.id,label:k.name})),onChange:k=>{if(k){L(+k),w("sport",+k);let R=s.filter($=>$.id===k);D(R[0].name)}}})}),r("div",{className:"w-1/2",children:r(oe,{id:"team",error:g.team,required:!0,className:"w-full",label:"Team",name:"team",value:x,onChange:k=>{k&&(B(k),w("team",+k))},sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:t==null?void 0:t.map(k=>({label:k.name,value:k.id}))})})]})})},st=m.exports.forwardRef(({image:P,label:c,id:B,...x},w)=>r("div",{ref:w,...x,children:A(ve,{noWrap:!0,children:[r(Ne,{radius:"xl",size:"sm",src:P}),r("div",{children:r(De,{size:"sm",children:c})})]})})),ot=Se().shape({parent:z().required("You  have to select a parent").typeError("It Must Be Number"),name:z().max(100,"Name Can't be more than 100 character").required("Player Name is required"),dob:z(),sport:he().required("You Must select a sport").typeError("You Have to select a sport"),team:he().required("You  Must select a team").typeError("You Have to select a team"),weight:z(),height:z(),front_leg:z(),phoneNumber:z().length(11,"phone number must be 11 characters long").optional().matches(/^\d+$/,"phone number must only contain numbers")}),Ce={name:"",dob:"",sport:"",team:"",weight:"",height:"",front_leg:"",phoneNumber:""},it=P=>{const[c,B]=m.exports.useState(""),{data:x}=de(null),{refetch:w}=Le({club_id:x==null?void 0:x.club},{skip:!(x!=null&&x.club)}),[g,D]=m.exports.useState(!1),[l,s]=m.exports.useState(Ce),[f,t]=m.exports.useState(null),[S,I]=m.exports.useState([{label:"",value:"",image:""}]),[L,v]=m.exports.useState(!1),[p,k]=m.exports.useState({}),[R,$]=m.exports.useState(null),{data:U}=Ie({club_id:x==null?void 0:x.club},{skip:!(x!=null&&x.club)});m.exports.useEffect(()=>{if(U){const h=U==null?void 0:U.results.map(y=>({label:y.first_name+" "+y.last_name,value:JSON.stringify(y.id),image:y.avatar}));I(h)}},[U]);const j=(h,y)=>{s({...l,[h]:y})};return r("div",{children:A(ue,{children:[r(Ae,{opened:g,onClose:()=>{D(!1)},title:"Create Player",children:A("form",{onSubmit:async h=>{h.preventDefault(),k({});const y=new FormData(h.currentTarget);try{if(await ot.validate(l,{abortEarly:!1}),console.log("Await Passed",l),f){const _=await ie.resizeImage(f);y.append("icon",_)}y.set("phone","+2"+y.get("phone"));try{v(!0),Me.post("club-manager/add-player/",y).then(_=>{v(!1),D(!1),t(null),w(),s(Ce)}).catch(_=>{v(!1),console.log(_.response.statusText)})}catch(_){console.log(_)}}catch(_){console.log(_);const E={};_ instanceof Re&&(_.inner.forEach(F=>{E[F.path]=F.message}),k(E))}},className:"rounded-3xl",children:[r(je,{inputAlt:"Player Photo",userAvatar:f,setUserAvatar:t}),A("div",{className:"flex flex-col my-4 justify-center items-center gap-2",children:[r("div",{className:"w-full",children:r(oe,{id:"parent",name:"parent",data:S,error:p.parent,itemComponent:st,label:"Parent",onChange:h=>j("parent",h),sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},rightSection:!1,className:"m-0 p-0 h-fit border-0"})}),A("div",{className:"flex gap-4 w-full",children:[r("div",{className:"w-1/2",children:r(K,{id:"name",name:"name",label:"Name",withAsterisk:!0,error:p.name,onChange:h=>j("name",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})}),r("div",{className:"w-1/2",children:r(qe,{label:"Date of birth",name:"dob",maxDate:new Date,inputFormat:"YYYY-MM-DD",error:p.dob,onChange:h=>j("dob",ie.formatDate(h)),sx:{".mantine-DatePicker-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]})]}),r(nt,{errors:p,formInputsData:l,handleChange:j,selectedTeam:R,setFormInputsData:s,setSelectedTeam:$,setSelectedSportName:B}),c.toLocaleLowerCase()==="taekwondo"?A(ue,{children:[A("div",{className:"flex gap-4 my-2",children:[r("div",{className:"w-1/2",children:r(K,{id:"world_weight",label:"World Weight",error:p.weight,name:"world_weight",onChange:h=>j("world_weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),r("div",{className:"w-1/2",children:r(K,{id:"olympic_weight",label:"Olympic Weight",error:p.weight,name:"olympic_weight",onChange:h=>j("olympic_weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),r("div",{className:"my-2",children:r(oe,{id:"front_leg",error:p.front_leg,className:"w-full",label:"Preferred Front Leg",name:"front_leg",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:[{value:"LEFT",label:"Left"},{value:"RIGHT",label:"Right"},{value:"BOTH",label:"Both"}]})}),r("div",{className:"my-2",children:r(K,{id:"height",label:"Height",name:"height",error:p.height,onChange:h=>j("height",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}):A("div",{className:"flex gap-4 my-4",children:[r("div",{className:"w-1/2",children:r(K,{id:"weight",label:"Weight",error:p.weight,name:"weight",onChange:h=>j("weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),r("div",{className:"w-1/2",children:r(K,{id:"height",label:"Height",name:"height",error:p.height,onChange:h=>j("height",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),r("div",{className:"w-full my-4",children:r(K,{id:"phoneNumber",label:"phone number",name:"phone",error:p.phoneNumber,onChange:h=>j("phoneNumber",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),r(_e,{isLoading:L,text:"Add Player"})]})}),r(ve,{position:"left",children:r("button",{className:"py-1 px-4 transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:()=>D(!0),children:"+ Create Player"})})]})})},Pe={first_name:"",last_name:"",sport:void 0,teams:[],password:"",confirmPassword:"",mobile:""},lt=({userType:P})=>{const[c,{open:B,close:x}]=Fe(!1),{data:w}=de(null),[g,D]=m.exports.useState(Pe),[l,s]=m.exports.useState(!1),[f,t]=m.exports.useState(null),[S,I]=m.exports.useState({}),{refetch:L}=Ee({club_id:w==null?void 0:w.club},{skip:!(w!=null&&w.club)}),v=(a,u)=>{D({...g,[a]:u})},p=["Coach","Attendance Moderator"].includes(P),k=Se().shape({mobile:z().required("Phone number is required").length(11,"phone number must be 11 characters long").matches(/^\d+$/,"phone number must only contain numbers"),first_name:z().required("First name is required"),last_name:z().required("Last name is required"),sport:he().required("You Must select a sport").typeError("You Have to select a sport"),teams:He().of(he()).min(p?1:0,"At least on team is required"),password:z().required("Password is required").min(8,"Password must be at least 8 characters long"),confirmPassword:z().required("Please confirm your password").oneOf([Ue("password"),null],"Passwords must match")}),[R,$]=m.exports.useState([]),[U,j]=we.useState([]),[W,h]=m.exports.useState(0),{data:y}=fe({club_id:w==null?void 0:w.club},{skip:!(w!=null&&w.club)}),{data:_}=ke({sport_id:W},{skip:!W});m.exports.useEffect(()=>{y&&y.results&&$(y.results),_&&_.results.length>0?j(_.results):(j([]),D({...g,teams:[]}),t(null))},[y,_,W]);const[E]=Ge(),[F]=Ye(),[le]=$e(),n=async a=>{a.preventDefault();const u=new FormData(a.currentTarget);for(const[G,H]of u.entries())console.log(`${G}: ${H}`);const b={mobile:"+2"+g.mobile,first_name:g.first_name,last_name:g.last_name,password:g.password,sport:g.sport,teams:p?g.teams:void 0},q=G=>{G(b).then(()=>{s(!1),x(),L(),D(Pe),ie.showNotificationFun("Success","Done","Attendance Modeartor Added Successfully")}).catch(H=>{s(!1),console.log(),ie.showNotificationFun("Error","Sorry",H.response.statusText)})};try{s(!0),await k.validate(g,{abortEarly:!1}),P==="Attendance Moderator"?q(E):P==="Coach"?q(F):P==="Supervisor"&&q(le)}catch(G){s(!1);const H={};G instanceof Re&&(G.inner.forEach(o=>{H[o.path]=o.message}),I(H))}};return A(ue,{children:[r(Ae,{opened:c,onClose:x,title:`Add ${P}`,children:A("form",{onSubmit:n,className:"rounded-xl py-4 flex flex-col gap-4 justify-between",children:[r(K,{id:"mobile",name:"mobile",label:"Mobile",withAsterisk:!0,error:S.mobile,onChange:a=>v("mobile",a.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),A("div",{className:"flex gap-2",children:[r(K,{id:"first_name",name:"first_name",label:"First Name",withAsterisk:!0,error:S.first_name,onChange:a=>v("first_name",a.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),r(K,{autoComplete:"off",id:"last_name",name:"last_name",label:"Last Name",withAsterisk:!0,error:S.last_name,onChange:a=>v("last_name",a.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})]}),A("div",{className:"flex flex-col gap-4 w-full my-4",children:[r(oe,{error:S.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:R==null?void 0:R.map(a=>({value:a.id,label:a.name})),onChange:a=>{a&&h(+a),a&&v("sport",+a)}}),p&&r(Je,{id:"teams",error:S.teams,required:!0,className:"w-full",label:"Teams",name:"teams",value:f,onChange:a=>{console.log(a),a&&(t(a),v("teams",a))},sx:{".mantine-MultiSelect-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:U==null?void 0:U.map(a=>({label:a.name,value:a.id}))})]}),r(xe,{autoComplete:"new-password",id:"password",name:"password",label:"Password",error:S.password,withAsterisk:!0,onChange:a=>v("password",a.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),r(xe,{autoComplete:"new-password",id:"confirmPassword",name:"confirm Password",label:"Confirm Password",error:S.confirmPassword,withAsterisk:!0,onChange:a=>v("confirmPassword",a.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),r(_e,{isLoading:l,text:`Create ${P}`})]})}),r(ve,{position:"left",children:A(ue,{children:[r("button",{className:"py-1 xs:hidden px-4 transform hover:scale-105 transition-all text-xs sm:text-base border border-perfGray3 text-perfGray3 rounded-3xl",onClick:B,children:"+"}),A("button",{className:"py-1 px-4 hidden xs:block transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:B,children:["+ Add ",P]})]})})]})};var Be={exports:{}};(function(P,c){(function(B,x){P.exports=x(m.exports)})(We,B=>(()=>{var x={703:(l,s,f)=>{var t=f(414);function S(){}function I(){}I.resetWarningCache=S,l.exports=function(){function L(k,R,$,U,j,W){if(W!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function v(){return L}L.isRequired=L;var p={array:L,bigint:L,bool:L,func:L,number:L,object:L,string:L,symbol:L,any:L,arrayOf:v,element:L,elementType:L,instanceOf:v,node:L,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:I,resetWarningCache:S};return p.PropTypes=p,p}},697:(l,s,f)=>{l.exports=f(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:l=>{l.exports=B}},w={};function g(l){var s=w[l];if(s!==void 0)return s.exports;var f=w[l]={exports:{}};return x[l](f,f.exports,g),f.exports}g.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return g.d(s,{a:s}),s},g.d=(l,s)=>{for(var f in s)g.o(s,f)&&!g.o(l,f)&&Object.defineProperty(l,f,{enumerable:!0,get:s[f]})},g.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),g.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var D={};return(()=>{g.r(D),g.d(D,{default:()=>le});var l=g(98),s=g.n(l),f=g(697),t=g.n(f);function S(){return S=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(n[b]=u[b])}return n},S.apply(this,arguments)}var I=function(n){var a=n.pageClassName,u=n.pageLinkClassName,b=n.page,q=n.selected,G=n.activeClassName,H=n.activeLinkClassName,o=n.getEventListener,e=n.pageSelectedHandler,N=n.href,i=n.extraAriaContext,d=n.pageLabelBuilder,C=n.rel,T=n.ariaLabel||"Page "+b+(i?" "+i:""),Y=null;return q&&(Y="page",T=n.ariaLabel||"Page "+b+" is your current page",a=a!==void 0?a+" "+G:G,u!==void 0?H!==void 0&&(u=u+" "+H):u=H),s().createElement("li",{className:a},s().createElement("a",S({rel:C,role:N?void 0:"button",className:u,href:N,tabIndex:q?"-1":"0","aria-label":T,"aria-current":Y,onKeyPress:e},o(e)),d(b)))};I.propTypes={pageSelectedHandler:t().func.isRequired,selected:t().bool.isRequired,pageClassName:t().string,pageLinkClassName:t().string,activeClassName:t().string,activeLinkClassName:t().string,extraAriaContext:t().string,href:t().string,ariaLabel:t().string,page:t().number.isRequired,getEventListener:t().func.isRequired,pageLabelBuilder:t().func.isRequired,rel:t().string};const L=I;function v(){return v=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(n[b]=u[b])}return n},v.apply(this,arguments)}var p=function(n){var a=n.breakLabel,u=n.breakAriaLabel,b=n.breakClassName,q=n.breakLinkClassName,G=n.breakHandler,H=n.getEventListener,o=b||"break";return s().createElement("li",{className:o},s().createElement("a",v({className:q,role:"button",tabIndex:"0","aria-label":u,onKeyPress:G},H(G)),a))};p.propTypes={breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabel:t().string,breakClassName:t().string,breakLinkClassName:t().string,breakHandler:t().func.isRequired,getEventListener:t().func.isRequired};const k=p;function R(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n!=null?n:a}function $(n){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},$(n)}function U(){return U=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var u=arguments[a];for(var b in u)Object.prototype.hasOwnProperty.call(u,b)&&(n[b]=u[b])}return n},U.apply(this,arguments)}function j(n,a){for(var u=0;u<a.length;u++){var b=a[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}function W(n,a){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,b){return u.__proto__=b,u},W(n,a)}function h(n,a){if(a&&($(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(n)}function y(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _(n){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_(n)}function E(n,a,u){return a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n}var F=function(n){(function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&W(o,e)})(H,n);var a,u,b,q,G=(b=H,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var o,e=_(b);if(q){var N=_(this).constructor;o=Reflect.construct(e,arguments,N)}else o=e.apply(this,arguments);return h(this,o)});function H(o){var e,N;return function(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}(this,H),E(y(e=G.call(this,o)),"handlePreviousPage",function(i){var d=e.state.selected;e.handleClick(i,null,d>0?d-1:void 0,{isPrevious:!0})}),E(y(e),"handleNextPage",function(i){var d=e.state.selected,C=e.props.pageCount;e.handleClick(i,null,d<C-1?d+1:void 0,{isNext:!0})}),E(y(e),"handlePageSelected",function(i,d){if(e.state.selected===i)return e.callActiveCallback(i),void e.handleClick(d,null,void 0,{isActive:!0});e.handleClick(d,null,i)}),E(y(e),"handlePageChange",function(i){e.state.selected!==i&&(e.setState({selected:i}),e.callCallback(i))}),E(y(e),"getEventListener",function(i){return E({},e.props.eventListener,i)}),E(y(e),"handleClick",function(i,d,C){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Y=T.isPrevious,Z=Y!==void 0&&Y,se=T.isNext,ce=se!==void 0&&se,ne=T.isBreak,Q=ne!==void 0&&ne,X=T.isActive,ee=X!==void 0&&X;i.preventDefault?i.preventDefault():i.returnValue=!1;var te=e.state.selected,O=e.props.onClick,V=C;if(O){var J=O({index:d,selected:te,nextSelectedPage:C,event:i,isPrevious:Z,isNext:ce,isBreak:Q,isActive:ee});if(J===!1)return;Number.isInteger(J)&&(V=J)}V!==void 0&&e.handlePageChange(V)}),E(y(e),"handleBreakClick",function(i,d){var C=e.state.selected;e.handleClick(d,i,C<i?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),E(y(e),"callCallback",function(i){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:i})}),E(y(e),"callActiveCallback",function(i){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:i})}),E(y(e),"getElementPageRel",function(i){var d=e.state.selected,C=e.props,T=C.nextPageRel,Y=C.prevPageRel,Z=C.selectedPageRel;return d-1===i?Y:d===i?Z:d+1===i?T:void 0}),E(y(e),"pagination",function(){var i=[],d=e.props,C=d.pageRangeDisplayed,T=d.pageCount,Y=d.marginPagesDisplayed,Z=d.breakLabel,se=d.breakClassName,ce=d.breakLinkClassName,ne=d.breakAriaLabels,Q=e.state.selected;if(T<=C)for(var X=0;X<T;X++)i.push(e.getPageElement(X));else{var ee=C/2,te=C-ee;Q>T-C/2?ee=C-(te=T-Q):Q<C/2&&(te=C-(ee=Q));var O,V,J=function(ae){return e.getPageElement(ae)},M=[];for(O=0;O<T;O++){var pe=O+1;if(pe<=Y)M.push({type:"page",index:O,display:J(O)});else if(pe>T-Y)M.push({type:"page",index:O,display:J(O)});else if(O>=Q-ee&&O<=Q+(Q===0&&C>1?te-1:te))M.push({type:"page",index:O,display:J(O)});else if(Z&&M.length>0&&M[M.length-1].display!==V&&(C>0||Y>0)){var be=O<Q?ne.backward:ne.forward;V=s().createElement(k,{key:O,breakAriaLabel:be,breakLabel:Z,breakClassName:se,breakLinkClassName:ce,breakHandler:e.handleBreakClick.bind(null,O),getEventListener:e.getEventListener}),M.push({type:"break",index:O,display:V})}}M.forEach(function(ae,re){var me=ae;ae.type==="break"&&M[re-1]&&M[re-1].type==="page"&&M[re+1]&&M[re+1].type==="page"&&M[re+1].index-M[re-1].index<=2&&(me={type:"page",index:ae.index,display:J(ae.index)}),i.push(me.display)})}return i}),o.initialPage!==void 0&&o.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(o.initialPage,") and forcePage (").concat(o.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),N=o.initialPage?o.initialPage:o.forcePage?o.forcePage:0,e.state={selected:N},e}return a=H,(u=[{key:"componentDidMount",value:function(){var o=this.props,e=o.initialPage,N=o.disableInitialCallback,i=o.extraAriaContext,d=o.pageCount,C=o.forcePage;e===void 0||N||this.callCallback(e),i&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(d)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(d,"). Did you forget a Math.ceil()?")),e!==void 0&&e>d-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(d-1,").")),C!==void 0&&C>d-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(C," > ").concat(d-1,")."))}},{key:"componentDidUpdate",value:function(o){this.props.forcePage!==void 0&&this.props.forcePage!==o.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(o.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var o=this.state.selected,e=this.props,N=e.pageCount,i=o+e.pageRangeDisplayed;return i>=N?N-1:i}},{key:"getBackwardJump",value:function(){var o=this.state.selected-this.props.pageRangeDisplayed;return o<0?0:o}},{key:"getElementHref",value:function(o){var e=this.props,N=e.hrefBuilder,i=e.pageCount,d=e.hrefAllControls;if(N)return d||o>=0&&o<i?N(o+1,i,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(o){var e=o===this.state.selected;if(this.props.ariaLabelBuilder&&o>=0&&o<this.props.pageCount){var N=this.props.ariaLabelBuilder(o+1,e);return this.props.extraAriaContext&&!e&&(N=N+" "+this.props.extraAriaContext),N}}},{key:"getPageElement",value:function(o){var e=this.state.selected,N=this.props,i=N.pageClassName,d=N.pageLinkClassName,C=N.activeClassName,T=N.activeLinkClassName,Y=N.extraAriaContext,Z=N.pageLabelBuilder;return s().createElement(L,{key:o,pageSelectedHandler:this.handlePageSelected.bind(null,o),selected:e===o,rel:this.getElementPageRel(o),pageClassName:i,pageLinkClassName:d,activeClassName:C,activeLinkClassName:T,extraAriaContext:Y,href:this.getElementHref(o),ariaLabel:this.ariaLabelBuilder(o),page:o+1,pageLabelBuilder:Z,getEventListener:this.getEventListener})}},{key:"render",value:function(){var o=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&o!==void 0)return o&&o(this.props);var e=this.props,N=e.disabledClassName,i=e.disabledLinkClassName,d=e.pageCount,C=e.className,T=e.containerClassName,Y=e.previousLabel,Z=e.previousClassName,se=e.previousLinkClassName,ce=e.previousAriaLabel,ne=e.prevRel,Q=e.nextLabel,X=e.nextClassName,ee=e.nextLinkClassName,te=e.nextAriaLabel,O=e.nextRel,V=this.state.selected,J=V===0,M=V===d-1,pe="".concat(R(Z)).concat(J?" ".concat(R(N)):""),be="".concat(R(X)).concat(M?" ".concat(R(N)):""),ae="".concat(R(se)).concat(J?" ".concat(R(i)):""),re="".concat(R(ee)).concat(M?" ".concat(R(i)):""),me=J?"true":"false",Te=M?"true":"false";return s().createElement("ul",{className:C||T,role:"navigation","aria-label":"Pagination"},s().createElement("li",{className:pe},s().createElement("a",U({className:ae,href:this.getElementHref(V-1),tabIndex:J?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":me,"aria-label":ce,rel:ne},this.getEventListener(this.handlePreviousPage)),Y)),this.pagination(),s().createElement("li",{className:be},s().createElement("a",U({className:re,href:this.getElementHref(V+1),tabIndex:M?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Te,"aria-label":te,rel:O},this.getEventListener(this.handleNextPage)),Q)))}}])&&j(a.prototype,u),Object.defineProperty(a,"prototype",{writable:!1}),H}(l.Component);E(F,"propTypes",{pageCount:t().number.isRequired,pageRangeDisplayed:t().number,marginPagesDisplayed:t().number,previousLabel:t().node,previousAriaLabel:t().string,prevPageRel:t().string,prevRel:t().string,nextLabel:t().node,nextAriaLabel:t().string,nextPageRel:t().string,nextRel:t().string,breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabels:t().shape({forward:t().string,backward:t().string}),hrefBuilder:t().func,hrefAllControls:t().bool,onPageChange:t().func,onPageActive:t().func,onClick:t().func,initialPage:t().number,forcePage:t().number,disableInitialCallback:t().bool,containerClassName:t().string,className:t().string,pageClassName:t().string,pageLinkClassName:t().string,pageLabelBuilder:t().func,activeClassName:t().string,activeLinkClassName:t().string,previousClassName:t().string,nextClassName:t().string,previousLinkClassName:t().string,nextLinkClassName:t().string,disabledClassName:t().string,disabledLinkClassName:t().string,breakClassName:t().string,breakLinkClassName:t().string,extraAriaContext:t().string,ariaLabelBuilder:t().func,eventListener:t().string,renderOnZeroPageCount:t().func,selectedPageRel:t().string}),E(F,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(n){return n},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const le=F})(),D})())})(Be);const ct=Qe(Be.exports);function ut({pageCount:P,setPage:c}){return r(ct,{breakLabel:"..",nextLabel:">",onPageChange:x=>{c(x.selected+1)},pageRangeDisplayed:3,pageCount:P&&P>1&&P||0,previousLabel:"<",renderOnZeroPageCount:null,className:"flex justify-center items-center gap-4 ",pageLinkClassName:"w-6 flex justify-center items-center rounded-full hover:bg-blue-400 hover:pointer",activeLinkClassName:"bg-perfBlue rounded-full text-white hover:bg-perfBlue",nextLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105",previousLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105"})}const ge=({type:P,data:c,setUserSearch:B,pageCount:x,setPage:w,fetching:g,sport:D,setSport:l})=>{const s=l!=null?l:()=>{};console.log("newData",c);const[f,t]=m.exports.useState([{label:"All",value:"0"}]),{data:S}=de({}),{data:I}=fe({club_id:S==null?void 0:S.club});m.exports.useEffect(()=>{if(I){let p=[{label:"All",value:"0"}];for(let k of I.results)p.push({label:k.name,value:JSON.stringify(k.id)});t(p)}},[I]);const L=m.exports.useRef(null),v=p=>{var R;p.preventDefault();const k=(R=L.current)==null?void 0:R.value;B(k),w(void 0)};return A("div",{className:"bg-white rounded-lg p-4 pt-0 ",children:[A("div",{className:"header flex flex-col sm:flex-row justify-between items-start py-4",children:[A("h2",{className:"text-sm sm:text-lg text-perfGray1 mb-2 sm:mb-0",children:[P==="Coach"?"Coaches":P+"s"," in the system"]}),A("div",{className:"  flex flex-wrap xs:flex-nowrap gap-6 justify-center items-center",children:[P==="Player"?r(it,{}):r(lt,{userType:P}),r(oe,{placeholder:"Filter By Sport",value:D,onChange:p=>{p&&p!="0"?s(p):s("0")},data:f}),A("form",{onSubmit:v,className:"flex justify-center items-center gap-2",children:[r(K,{onChange:p=>{p.target.value.length===0&&B(void 0)},ref:L,icon:r(ye,{className:"w-5 h-5 pointer",icon:"MagnifyingGlassIcon:outline"}),placeholder:"Search"}),r("button",{type:"submit",className:"p-2 rounded-md bg-perfBlue",children:r(ye,{className:"w-5 h-5 pointer text-white",icon:"MagnifyingGlassIcon:outline"})})]})]})]}),r("div",{className:"h-60 overflow-y-scroll",children:g?r("div",{className:"flex justify-center items-center w-full h-full",children:r(Ve,{})}):r(Oe,{className:"w-full",gutter:"sm",children:c&&c.length>0?r(dt,{newData:c,type:P}):r("div",{className:"flex w-full items-center justify-center pt-10",children:A("h1",{className:"bg-pagesBg p-6",children:["No ",P," In this Club"]})})})}),r(ut,{pageCount:x,setPage:w})]})},dt=({newData:P,type:c})=>{const B=ze(),[x]=Ke(),[w]=Ze(),[g]=Xe(),[D]=et(),l=s=>{let f;switch(c.toLowerCase()){case"player":f=x({player_id:s});break;case"coach":f=w({coach_id:s});break;case"supervisor":f=g({supervisor_id:s});break;case"attendance moderator":f=D({subCoach_id:s});break;default:throw new Error("Invalid user type")}f.then(S=>{ie.showNotificationFun("Success","Done","Successfully Deleted")}).catch(S=>{ie.showNotificationFun("Error","Wrong","err.message")})};return P.map(s=>r(Oe.Col,{className:"w-fit h-fit",span:12,xs:6,sm:4,children:A("div",{className:"flex justify-between rounded-3xl mr-10 items-center p-1  hover:bg-pagesBg transition-all",children:[A("div",{onClick:()=>c==="Player"&&B(`/players/${s.id}`),style:{cursor:c==="Player"?"pointer":"auto"},className:"coach-data flex gap-2 items-center",children:[r(Ne,{src:s.avatar||s.icon,size:"sm",radius:"xl"}),r("h3",{className:"text-base text-perfGray2",children:s.first_name&&s.first_name+" "+s.last_name||s.name})]}),r(tt,{deleteFun:()=>l(JSON.stringify(s.id)),type:c,name:s.first_name||s.name})]})},s.id))},mt=P=>{const{data:c}=de({}),[B,x]=m.exports.useState(),[w,g]=m.exports.useState(),[D,l]=m.exports.useState(),[s,f]=m.exports.useState(),[t,S]=m.exports.useState(),[I,L]=m.exports.useState(),[v,p]=m.exports.useState(),[k,R]=m.exports.useState(),[$,U]=m.exports.useState(),[j,W]=m.exports.useState(),[h,y]=m.exports.useState(),[_,E]=m.exports.useState(),{data:F,isLoading:le}=Le({club_id:c==null?void 0:c.club,search:B,sport:$!=="0"?$:void 0,page:t},{skip:!(c!=null&&c.club)}),{data:n,isLoading:a}=at({club_id:c==null?void 0:c.club,search:w,sport:j,page:I},{skip:!(c!=null&&c.club)}),{data:u,isLoading:b}=rt({club_id:c==null?void 0:c.club,search:s,sport:_,page:k},{skip:!(c!=null&&c.club)}),{data:q,isLoading:G}=Ee({club_id:c==null?void 0:c.club,search:D,sport:h,page:v},{skip:!(c!=null&&c.club)});return console.log("players",F==null?void 0:F.pages_count),A("div",{className:"flex flex-col gap-6  pt-6 mb-10",children:[r(ge,{setUserSearch:g,type:"Coach",data:n==null?void 0:n.results,pageCount:n==null?void 0:n.pages_count,setPage:L,fetching:a,setSport:W,sport:j}),q&&r(ge,{setUserSearch:l,type:"Attendance Moderator",data:q==null?void 0:q.results,pageCount:q==null?void 0:q.pages_count,setPage:p,fetching:G,setSport:y,sport:h}),r(ge,{setUserSearch:f,type:"Supervisor",data:u==null?void 0:u.results,pageCount:u==null?void 0:u.pages_count,setPage:R,fetching:b,setSport:E,sport:_}),r(ge,{type:"Player",setUserSearch:x,data:F==null?void 0:F.results,pageCount:F==null?void 0:F.pages_count,setPage:S,fetching:le,setSport:U,sport:$})]})};export{mt as default};
