import{a as me,r as g,R as we,e as fe,f as ke,j as a,F as pe,d as _,g as oe,h as ve,i as Se,k as De,l as Ne,m as Q,n as ue,o as Le,p as Ie,M as Ae,q as je,t as K,D as Me,v as ie,w as _e,x as qe,V as Re,y as Fe,z as Ee,B as Ue,C as He,E as Ge,I as Ye,J as $e,K as Je,L as Qe,P as xe,O as We,Q as Ve,W as ye,X as ze,G as Oe,Y as Ke,Z as Ze,_ as Xe,$ as et,a0 as tt,a1 as at,a2 as rt,a3 as nt,a4 as st,a5 as ot}from"./index.ba031adb.js";const it=({setFormInputsData:y,formInputsData:l,setSelectedTeam:D,selectedTeam:P,handleChange:k,errors:v,setSelectedSportName:j})=>{const{data:c}=me(null),[d,u]=g.exports.useState([]),[t,L]=we.useState([]),[B,S]=g.exports.useState(0),{data:C}=fe({club_id:c==null?void 0:c.club},{skip:!(c!=null&&c.club)}),{data:m}=ke({sport_id:B},{skip:!B});return g.exports.useEffect(()=>{L([]),y({...l,team:""}),D(null),C&&C.results&&u(C.results),m&&m.results.length>0?L(m.results):(L([]),y({...l,team:""}),D(null))},[C,m,B]),a(pe,{children:_("div",{className:"flex gap-4 w-full my-4",children:[a("div",{className:"w-1/2",children:a(oe,{error:v.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:d==null?void 0:d.map(w=>({value:w.id,label:w.name})),onChange:w=>{if(w){S(+w),k("sport",+w);let I=d.filter(G=>G.id===w);j(I[0].name)}}})}),a("div",{className:"w-1/2",children:a(oe,{id:"team",error:v.team,required:!0,className:"w-full",label:"Team",name:"team",value:P,onChange:w=>{w&&(D(w),k("team",+w))},sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:t==null?void 0:t.map(w=>({label:w.name,value:w.id}))})})]})})},lt=g.exports.forwardRef(({image:y,label:l,id:D,...P},k)=>a("div",{ref:k,...P,children:_(ve,{noWrap:!0,children:[a(Se,{radius:"xl",size:"sm",src:y}),a("div",{children:a(De,{size:"sm",children:l})})]})})),ct=Ne().shape({parent:Q().required("You  have to select a parent").typeError("It Must Be Number"),name:Q().max(100,"Name Can't be more than 100 character").required("Player Name is required"),dob:Q(),sport:ue().required("You Must select a sport").typeError("You Have to select a sport"),team:ue().required("You  Must select a team").typeError("You Have to select a team"),weight:Q(),height:Q(),front_leg:Q(),phoneNumber:Q().length(11,"phone number must be 11 characters long").optional().matches(/^\d+$/,"phone number must only contain numbers")}),Ce={name:"",dob:"",sport:"",team:"",weight:"",height:"",front_leg:"",phoneNumber:""},dt=y=>{const[l,D]=g.exports.useState(""),{data:P}=me(null),{refetch:k}=Le({club_id:P==null?void 0:P.club},{skip:!(P!=null&&P.club)}),[v,j]=g.exports.useState(!1),[c,d]=g.exports.useState(Ce),[u,t]=g.exports.useState(null),[L,B]=g.exports.useState([{label:"",value:"",image:""}]),[S,C]=g.exports.useState(!1),[m,w]=g.exports.useState({}),[I,G]=g.exports.useState(null),{data:U}=Ie({club_id:P==null?void 0:P.club},{skip:!(P!=null&&P.club)});g.exports.useEffect(()=>{if(U){const h=U==null?void 0:U.results.map(N=>({label:N.first_name+" "+N.last_name,value:JSON.stringify(N.id),image:N.avatar}));B(h)}},[U]);const M=(h,N)=>{d({...c,[h]:N})};return a("div",{children:_(pe,{children:[a(Ae,{opened:v,onClose:()=>{j(!1)},title:"Create Player",children:_("form",{onSubmit:async h=>{h.preventDefault(),w({});const N=new FormData(h.currentTarget);try{if(await ct.validate(c,{abortEarly:!1}),console.log("Await Passed",c),u){const R=await ie.resizeImage(u);N.append("icon",R)}N.set("phone","+2"+N.get("phone"));try{C(!0),qe.post("club-manager/add-player/",N).then(R=>{C(!1),j(!1),t(null),k(),d(Ce)}).catch(R=>{C(!1),console.log(R.response.statusText)})}catch(R){console.log(R)}}catch(R){console.log(R);const A={};R instanceof Re&&(R.inner.forEach(V=>{A[V.path]=V.message}),w(A))}},className:"rounded-3xl",children:[a(je,{inputAlt:"Player Photo",userAvatar:u,setUserAvatar:t}),_("div",{className:"flex flex-col my-4 justify-center items-center gap-2",children:[a("div",{className:"w-full",children:a(oe,{id:"parent",name:"parent",data:L,error:m.parent,itemComponent:lt,label:"Parent",onChange:h=>M("parent",h),sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},rightSection:!1,className:"m-0 p-0 h-fit border-0"})}),_("div",{className:"flex gap-4 w-full",children:[a("div",{className:"w-1/2",children:a(K,{id:"name",name:"name",label:"Name",withAsterisk:!0,error:m.name,onChange:h=>M("name",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})}),a("div",{className:"w-1/2",children:a(Me,{label:"Date of birth",name:"dob",maxDate:new Date,inputFormat:"YYYY-MM-DD",error:m.dob,onChange:h=>M("dob",ie.formatDate(h)),sx:{".mantine-DatePicker-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]})]}),a(it,{errors:m,formInputsData:c,handleChange:M,selectedTeam:I,setFormInputsData:d,setSelectedTeam:G,setSelectedSportName:D}),l.toLocaleLowerCase()==="taekwondo"?_(pe,{children:[_("div",{className:"flex gap-4 my-2",children:[a("div",{className:"w-1/2",children:a(K,{id:"world_weight",label:"World Weight",error:m.weight,name:"world_weight",onChange:h=>M("world_weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),a("div",{className:"w-1/2",children:a(K,{id:"olympic_weight",label:"Olympic Weight",error:m.weight,name:"olympic_weight",onChange:h=>M("olympic_weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),a("div",{className:"my-2",children:a(oe,{id:"front_leg",error:m.front_leg,className:"w-full",label:"Preferred Front Leg",name:"front_leg",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:[{value:"LEFT",label:"Left"},{value:"RIGHT",label:"Right"},{value:"BOTH",label:"Both"}]})}),a("div",{className:"my-2",children:a(K,{id:"height",label:"Height",name:"height",error:m.height,onChange:h=>M("height",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}):_("div",{className:"flex gap-4 my-4",children:[a("div",{className:"w-1/2",children:a(K,{id:"weight",label:"Weight",error:m.weight,name:"weight",onChange:h=>M("weight",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),a("div",{className:"w-1/2",children:a(K,{id:"height",label:"Height",name:"height",error:m.height,onChange:h=>M("height",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),a("div",{className:"w-full my-4",children:a(K,{id:"phoneNumber",label:"phone number",name:"phone",error:m.phoneNumber,onChange:h=>M("phoneNumber",h.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),a(_e,{isLoading:S,text:"Add Player"})]})}),a(ve,{position:"left",children:a("button",{className:"py-1 px-4 transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:()=>j(!0),children:"+ Create Player"})})]})})},Pe={first_name:"",last_name:"",sport:void 0,teams:[],password:"",confirmPassword:"",mobile:""},ut=({userType:y})=>{const[l,{open:D,close:P}]=Fe(!1),{data:k}=me(null),[v,j]=g.exports.useState(Pe),[c,d]=g.exports.useState(!1),[u,t]=g.exports.useState(null),[L,B]=g.exports.useState({}),{refetch:S}=Ee({club_id:k==null?void 0:k.club},{skip:!(k!=null&&k.club)}),C=(n,F)=>{j({...v,[n]:F})},m=["Coach","Attendance Moderator"].includes(y),w=y!=="Parent",I=Ne().shape({mobile:Q().required("Phone number is required").length(11,"phone number must be 11 characters long").matches(/^\d+$/,"phone number must only contain numbers"),first_name:Q().required("First name is required"),last_name:Q().required("Last name is required"),sport:ue().when("userType",{is:n=>n!=="Parent",then:ue().typeError("You have to select a sport")}),teams:Ue().of(ue()).min(m?1:0,"At least on team is required"),password:Q().required("Password is required").min(8,"Password must be at least 8 characters long"),confirmPassword:Q().required("Please confirm your password").oneOf([He("password"),null],"Passwords must match")}),[G,U]=g.exports.useState([]),[M,W]=we.useState([]),[h,N]=g.exports.useState(0),{data:R}=fe({club_id:k==null?void 0:k.club},{skip:!(k!=null&&k.club)}),{data:A}=ke({sport_id:h},{skip:!h});g.exports.useEffect(()=>{R&&R.results&&U(R.results),A&&A.results.length>0?W(A.results):(W([]),j({...v,teams:[]}),t(null))},[R,A,h]);const[V]=Ge(),[le]=Ye(),[s]=$e(),[i]=Je(),b=async n=>{n.preventDefault();const F=new FormData(n.currentTarget);for(const[r,e]of F.entries())console.log(`${r}: ${e}`);const z={mobile:"+2"+v.mobile,first_name:v.first_name,last_name:v.last_name,password:v.password,sport:w?v.sport:void 0,teams:m?v.teams:void 0},E=r=>{r(z).then(()=>{d(!1),P(),S(),j(Pe),ie.showNotificationFun("Success","Done","Attendance Modeartor Added Successfully")}).catch(e=>{d(!1),console.log(),ie.showNotificationFun("Error","Sorry",e.response.statusText)})};try{d(!0),await I.validate(v,{abortEarly:!1}),y==="Attendance Moderator"?E(V):y==="Coach"?E(le):y==="Supervisor"?E(s):y==="Parent"&&E(i)}catch(r){d(!1);const e={};r instanceof Re&&(r.inner.forEach(x=>{e[x.path]=x.message}),B(e))}};return _(pe,{children:[a(Ae,{opened:l,onClose:P,title:`Add ${y}`,children:_("form",{onSubmit:b,className:"rounded-xl py-4 flex flex-col gap-4 justify-between",children:[a(K,{id:"mobile",name:"mobile",label:"Mobile",withAsterisk:!0,error:L.mobile,onChange:n=>C("mobile",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),_("div",{className:"flex gap-2",children:[a(K,{id:"first_name",name:"first_name",label:"First Name",withAsterisk:!0,error:L.first_name,onChange:n=>C("first_name",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(K,{autoComplete:"off",id:"last_name",name:"last_name",label:"Last Name",withAsterisk:!0,error:L.last_name,onChange:n=>C("last_name",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})]}),w&&_("div",{className:"flex flex-col gap-4 w-full my-4",children:[a(oe,{error:L.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:G==null?void 0:G.map(n=>({value:n.id,label:n.name})),onChange:n=>{n&&N(+n),n&&C("sport",+n)}}),m&&a(Qe,{id:"teams",error:L.teams,required:!0,className:"w-full",label:"Teams",name:"teams",value:u,onChange:n=>{console.log(n),n&&(t(n),C("teams",n))},sx:{".mantine-MultiSelect-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:M==null?void 0:M.map(n=>({label:n.name,value:n.id}))})]}),a(xe,{autoComplete:"new-password",id:"password",name:"password",label:"Password",error:L.password,withAsterisk:!0,onChange:n=>C("password",n.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(xe,{autoComplete:"new-password",id:"confirmPassword",name:"confirm Password",label:"Confirm Password",error:L.confirmPassword,withAsterisk:!0,onChange:n=>C("confirmPassword",n.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(_e,{isLoading:c,text:`Create ${y}`})]})}),a(ve,{position:"left",children:_(pe,{children:[a("button",{className:"py-1 xs:hidden px-4 transform hover:scale-105 transition-all text-xs sm:text-base border border-perfGray3 text-perfGray3 rounded-3xl",onClick:D,children:"+"}),_("button",{className:"py-1 px-4 hidden xs:block transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:D,children:["+ Add ",y]})]})})]})};var Be={exports:{}};(function(y,l){(function(D,P){y.exports=P(g.exports)})(We,D=>(()=>{var P={703:(c,d,u)=>{var t=u(414);function L(){}function B(){}B.resetWarningCache=L,c.exports=function(){function S(w,I,G,U,M,W){if(W!==t){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function C(){return S}S.isRequired=S;var m={array:S,bigint:S,bool:S,func:S,number:S,object:S,string:S,symbol:S,any:S,arrayOf:C,element:S,elementType:S,instanceOf:C,node:S,objectOf:C,oneOf:C,oneOfType:C,shape:C,exact:C,checkPropTypes:B,resetWarningCache:L};return m.PropTypes=m,m}},697:(c,d,u)=>{c.exports=u(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:c=>{c.exports=D}},k={};function v(c){var d=k[c];if(d!==void 0)return d.exports;var u=k[c]={exports:{}};return P[c](u,u.exports,v),u.exports}v.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return v.d(d,{a:d}),d},v.d=(c,d)=>{for(var u in d)v.o(d,u)&&!v.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},v.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),v.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var j={};return(()=>{v.r(j),v.d(j,{default:()=>le});var c=v(98),d=v.n(c),u=v(697),t=v.n(u);function L(){return L=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var b=arguments[i];for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&(s[n]=b[n])}return s},L.apply(this,arguments)}var B=function(s){var i=s.pageClassName,b=s.pageLinkClassName,n=s.page,F=s.selected,z=s.activeClassName,E=s.activeLinkClassName,r=s.getEventListener,e=s.pageSelectedHandler,x=s.href,o=s.extraAriaContext,p=s.pageLabelBuilder,f=s.rel,O=s.ariaLabel||"Page "+n+(o?" "+o:""),H=null;return F&&(H="page",O=s.ariaLabel||"Page "+n+" is your current page",i=i!==void 0?i+" "+z:z,b!==void 0?E!==void 0&&(b=b+" "+E):b=E),d().createElement("li",{className:i},d().createElement("a",L({rel:f,role:x?void 0:"button",className:b,href:x,tabIndex:F?"-1":"0","aria-label":O,"aria-current":H,onKeyPress:e},r(e)),p(n)))};B.propTypes={pageSelectedHandler:t().func.isRequired,selected:t().bool.isRequired,pageClassName:t().string,pageLinkClassName:t().string,activeClassName:t().string,activeLinkClassName:t().string,extraAriaContext:t().string,href:t().string,ariaLabel:t().string,page:t().number.isRequired,getEventListener:t().func.isRequired,pageLabelBuilder:t().func.isRequired,rel:t().string};const S=B;function C(){return C=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var b=arguments[i];for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&(s[n]=b[n])}return s},C.apply(this,arguments)}var m=function(s){var i=s.breakLabel,b=s.breakAriaLabel,n=s.breakClassName,F=s.breakLinkClassName,z=s.breakHandler,E=s.getEventListener,r=n||"break";return d().createElement("li",{className:r},d().createElement("a",C({className:F,role:"button",tabIndex:"0","aria-label":b,onKeyPress:z},E(z)),i))};m.propTypes={breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabel:t().string,breakClassName:t().string,breakLinkClassName:t().string,breakHandler:t().func.isRequired,getEventListener:t().func.isRequired};const w=m;function I(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return s!=null?s:i}function G(s){return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},G(s)}function U(){return U=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var b=arguments[i];for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&(s[n]=b[n])}return s},U.apply(this,arguments)}function M(s,i){for(var b=0;b<i.length;b++){var n=i[b];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(s,n.key,n)}}function W(s,i){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,n){return b.__proto__=n,b},W(s,i)}function h(s,i){if(i&&(G(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(s)}function N(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function R(s){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},R(s)}function A(s,i,b){return i in s?Object.defineProperty(s,i,{value:b,enumerable:!0,configurable:!0,writable:!0}):s[i]=b,s}var V=function(s){(function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&W(r,e)})(E,s);var i,b,n,F,z=(n=E,F=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,e=R(n);if(F){var x=R(this).constructor;r=Reflect.construct(e,arguments,x)}else r=e.apply(this,arguments);return h(this,r)});function E(r){var e,x;return function(o,p){if(!(o instanceof p))throw new TypeError("Cannot call a class as a function")}(this,E),A(N(e=z.call(this,r)),"handlePreviousPage",function(o){var p=e.state.selected;e.handleClick(o,null,p>0?p-1:void 0,{isPrevious:!0})}),A(N(e),"handleNextPage",function(o){var p=e.state.selected,f=e.props.pageCount;e.handleClick(o,null,p<f-1?p+1:void 0,{isNext:!0})}),A(N(e),"handlePageSelected",function(o,p){if(e.state.selected===o)return e.callActiveCallback(o),void e.handleClick(p,null,void 0,{isActive:!0});e.handleClick(p,null,o)}),A(N(e),"handlePageChange",function(o){e.state.selected!==o&&(e.setState({selected:o}),e.callCallback(o))}),A(N(e),"getEventListener",function(o){return A({},e.props.eventListener,o)}),A(N(e),"handleClick",function(o,p,f){var O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=O.isPrevious,Z=H!==void 0&&H,se=O.isNext,ce=se!==void 0&&se,ne=O.isBreak,$=ne!==void 0&&ne,X=O.isActive,ee=X!==void 0&&X;o.preventDefault?o.preventDefault():o.returnValue=!1;var te=e.state.selected,T=e.props.onClick,J=f;if(T){var Y=T({index:p,selected:te,nextSelectedPage:f,event:o,isPrevious:Z,isNext:ce,isBreak:$,isActive:ee});if(Y===!1)return;Number.isInteger(Y)&&(J=Y)}J!==void 0&&e.handlePageChange(J)}),A(N(e),"handleBreakClick",function(o,p){var f=e.state.selected;e.handleClick(p,o,f<o?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),A(N(e),"callCallback",function(o){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:o})}),A(N(e),"callActiveCallback",function(o){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:o})}),A(N(e),"getElementPageRel",function(o){var p=e.state.selected,f=e.props,O=f.nextPageRel,H=f.prevPageRel,Z=f.selectedPageRel;return p-1===o?H:p===o?Z:p+1===o?O:void 0}),A(N(e),"pagination",function(){var o=[],p=e.props,f=p.pageRangeDisplayed,O=p.pageCount,H=p.marginPagesDisplayed,Z=p.breakLabel,se=p.breakClassName,ce=p.breakLinkClassName,ne=p.breakAriaLabels,$=e.state.selected;if(O<=f)for(var X=0;X<O;X++)o.push(e.getPageElement(X));else{var ee=f/2,te=f-ee;$>O-f/2?ee=f-(te=O-$):$<f/2&&(te=f-(ee=$));var T,J,Y=function(ae){return e.getPageElement(ae)},q=[];for(T=0;T<O;T++){var ge=T+1;if(ge<=H)q.push({type:"page",index:T,display:Y(T)});else if(ge>O-H)q.push({type:"page",index:T,display:Y(T)});else if(T>=$-ee&&T<=$+($===0&&f>1?te-1:te))q.push({type:"page",index:T,display:Y(T)});else if(Z&&q.length>0&&q[q.length-1].display!==J&&(f>0||H>0)){var be=T<$?ne.backward:ne.forward;J=d().createElement(w,{key:T,breakAriaLabel:be,breakLabel:Z,breakClassName:se,breakLinkClassName:ce,breakHandler:e.handleBreakClick.bind(null,T),getEventListener:e.getEventListener}),q.push({type:"break",index:T,display:J})}}q.forEach(function(ae,re){var he=ae;ae.type==="break"&&q[re-1]&&q[re-1].type==="page"&&q[re+1]&&q[re+1].type==="page"&&q[re+1].index-q[re-1].index<=2&&(he={type:"page",index:ae.index,display:Y(ae.index)}),o.push(he.display)})}return o}),r.initialPage!==void 0&&r.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(r.initialPage,") and forcePage (").concat(r.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),x=r.initialPage?r.initialPage:r.forcePage?r.forcePage:0,e.state={selected:x},e}return i=E,(b=[{key:"componentDidMount",value:function(){var r=this.props,e=r.initialPage,x=r.disableInitialCallback,o=r.extraAriaContext,p=r.pageCount,f=r.forcePage;e===void 0||x||this.callCallback(e),o&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(p)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(p,"). Did you forget a Math.ceil()?")),e!==void 0&&e>p-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(p-1,").")),f!==void 0&&f>p-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(f," > ").concat(p-1,")."))}},{key:"componentDidUpdate",value:function(r){this.props.forcePage!==void 0&&this.props.forcePage!==r.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(r.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var r=this.state.selected,e=this.props,x=e.pageCount,o=r+e.pageRangeDisplayed;return o>=x?x-1:o}},{key:"getBackwardJump",value:function(){var r=this.state.selected-this.props.pageRangeDisplayed;return r<0?0:r}},{key:"getElementHref",value:function(r){var e=this.props,x=e.hrefBuilder,o=e.pageCount,p=e.hrefAllControls;if(x)return p||r>=0&&r<o?x(r+1,o,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(r){var e=r===this.state.selected;if(this.props.ariaLabelBuilder&&r>=0&&r<this.props.pageCount){var x=this.props.ariaLabelBuilder(r+1,e);return this.props.extraAriaContext&&!e&&(x=x+" "+this.props.extraAriaContext),x}}},{key:"getPageElement",value:function(r){var e=this.state.selected,x=this.props,o=x.pageClassName,p=x.pageLinkClassName,f=x.activeClassName,O=x.activeLinkClassName,H=x.extraAriaContext,Z=x.pageLabelBuilder;return d().createElement(S,{key:r,pageSelectedHandler:this.handlePageSelected.bind(null,r),selected:e===r,rel:this.getElementPageRel(r),pageClassName:o,pageLinkClassName:p,activeClassName:f,activeLinkClassName:O,extraAriaContext:H,href:this.getElementHref(r),ariaLabel:this.ariaLabelBuilder(r),page:r+1,pageLabelBuilder:Z,getEventListener:this.getEventListener})}},{key:"render",value:function(){var r=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&r!==void 0)return r&&r(this.props);var e=this.props,x=e.disabledClassName,o=e.disabledLinkClassName,p=e.pageCount,f=e.className,O=e.containerClassName,H=e.previousLabel,Z=e.previousClassName,se=e.previousLinkClassName,ce=e.previousAriaLabel,ne=e.prevRel,$=e.nextLabel,X=e.nextClassName,ee=e.nextLinkClassName,te=e.nextAriaLabel,T=e.nextRel,J=this.state.selected,Y=J===0,q=J===p-1,ge="".concat(I(Z)).concat(Y?" ".concat(I(x)):""),be="".concat(I(X)).concat(q?" ".concat(I(x)):""),ae="".concat(I(se)).concat(Y?" ".concat(I(o)):""),re="".concat(I(ee)).concat(q?" ".concat(I(o)):""),he=Y?"true":"false",Te=q?"true":"false";return d().createElement("ul",{className:f||O,role:"navigation","aria-label":"Pagination"},d().createElement("li",{className:ge},d().createElement("a",U({className:ae,href:this.getElementHref(J-1),tabIndex:Y?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":he,"aria-label":ce,rel:ne},this.getEventListener(this.handlePreviousPage)),H)),this.pagination(),d().createElement("li",{className:be},d().createElement("a",U({className:re,href:this.getElementHref(J+1),tabIndex:q?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Te,"aria-label":te,rel:T},this.getEventListener(this.handleNextPage)),$)))}}])&&M(i.prototype,b),Object.defineProperty(i,"prototype",{writable:!1}),E}(c.Component);A(V,"propTypes",{pageCount:t().number.isRequired,pageRangeDisplayed:t().number,marginPagesDisplayed:t().number,previousLabel:t().node,previousAriaLabel:t().string,prevPageRel:t().string,prevRel:t().string,nextLabel:t().node,nextAriaLabel:t().string,nextPageRel:t().string,nextRel:t().string,breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabels:t().shape({forward:t().string,backward:t().string}),hrefBuilder:t().func,hrefAllControls:t().bool,onPageChange:t().func,onPageActive:t().func,onClick:t().func,initialPage:t().number,forcePage:t().number,disableInitialCallback:t().bool,containerClassName:t().string,className:t().string,pageClassName:t().string,pageLinkClassName:t().string,pageLabelBuilder:t().func,activeClassName:t().string,activeLinkClassName:t().string,previousClassName:t().string,nextClassName:t().string,previousLinkClassName:t().string,nextLinkClassName:t().string,disabledClassName:t().string,disabledLinkClassName:t().string,breakClassName:t().string,breakLinkClassName:t().string,extraAriaContext:t().string,ariaLabelBuilder:t().func,eventListener:t().string,renderOnZeroPageCount:t().func,selectedPageRel:t().string}),A(V,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(s){return s},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const le=V})(),j})())})(Be);const pt=Ve(Be.exports);function mt({pageCount:y,setPage:l}){return a(pt,{breakLabel:"..",nextLabel:">",onPageChange:P=>{l(P.selected+1)},pageRangeDisplayed:3,pageCount:y&&y>1&&y||0,previousLabel:"<",renderOnZeroPageCount:null,className:"flex justify-center items-center gap-4 ",pageLinkClassName:"w-6 flex justify-center items-center rounded-full hover:bg-blue-400 hover:pointer",activeLinkClassName:"bg-perfBlue rounded-full text-white hover:bg-perfBlue",nextLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105",previousLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105"})}const de=({type:y,data:l,setUserSearch:D,pageCount:P,setPage:k,fetching:v,sport:j,setSport:c})=>{const d=c!=null?c:()=>{},[u,t]=g.exports.useState([{label:"All",value:"0"}]),{data:L}=me({}),{data:B}=fe({club_id:L==null?void 0:L.club});g.exports.useEffect(()=>{if(B){let m=[{label:"All",value:"0"}];for(let w of B.results)m.push({label:w.name,value:JSON.stringify(w.id)});t(m)}},[B]);const S=g.exports.useRef(null),C=m=>{var I;m.preventDefault();const w=(I=S.current)==null?void 0:I.value;D(w),k(void 0)};return _("div",{className:"bg-white rounded-lg p-4 pt-0 ",children:[_("div",{className:"header flex flex-col sm:flex-row justify-between items-start py-4",children:[_("h2",{className:"text-sm sm:text-lg text-perfGray1 mb-2 sm:mb-0",children:[y==="Coach"?"Coaches":y+"s"," in the system"]}),_("div",{className:"  flex flex-wrap xs:flex-nowrap gap-6 justify-center items-center",children:[y==="Player"?a(dt,{}):a(ut,{userType:y}),y!=="Parent"&&a(oe,{placeholder:"Filter By Sport",value:j,onChange:m=>{m&&m!="0"?d(m):d("0")},data:u}),_("form",{onSubmit:C,className:"flex justify-center items-center gap-2",children:[a(K,{onChange:m=>{m.target.value.length===0&&D(void 0)},ref:S,icon:a(ye,{className:"w-5 h-5 pointer",icon:"MagnifyingGlassIcon:outline"}),placeholder:"Search"}),a("button",{type:"submit",className:"p-2 rounded-md bg-perfBlue",children:a(ye,{className:"w-5 h-5 pointer text-white",icon:"MagnifyingGlassIcon:outline"})})]})]})]}),a("div",{className:"h-60 overflow-y-scroll",children:v?a("div",{className:"flex justify-center items-center w-full h-full",children:a(ze,{})}):a(Oe,{className:"w-full",gutter:"sm",children:l&&l.length>0?a(gt,{newData:l,type:y}):a("div",{className:"flex w-full items-center justify-center pt-10",children:_("h1",{className:"bg-pagesBg p-6",children:["No ",y," In this Club"]})})})}),a(mt,{pageCount:P,setPage:k})]})},gt=({newData:y,type:l})=>{const D=Ke(),[P]=Ze(),[k]=Xe(),[v]=et(),[j]=tt(),[c]=at(),d=u=>{let t;switch(l.toLowerCase()){case"player":t=P({player_id:u});break;case"parent":t=c({parent_id:u});break;case"coach":t=k({coach_id:u});break;case"supervisor":t=v({supervisor_id:u});break;case"attendance moderator":t=j({subCoach_id:u});break;default:throw new Error("Invalid user type")}t.then(B=>{ie.showNotificationFun("Success","Done","Successfully Deleted")}).catch(B=>{ie.showNotificationFun("Error","Wrong","err.message")})};return y.map(u=>a(Oe.Col,{className:"w-fit h-fit",span:12,xs:6,sm:4,children:_("div",{className:"flex justify-between rounded-3xl mr-10 items-center p-1  hover:bg-pagesBg transition-all",children:[_("div",{onClick:()=>l==="Player"&&D(`/players/${u.id}`),style:{cursor:l==="Player"?"pointer":"auto"},className:"coach-data flex gap-2 items-center",children:[a(Se,{src:u.avatar||u.icon,size:"sm",radius:"xl"}),a("h3",{className:"text-base text-perfGray2",children:u.first_name&&u.first_name+" "+u.last_name||u.name})]}),a(rt,{deleteFun:()=>d(JSON.stringify(u.id)),type:l,name:u.first_name||u.name})]})},u.id))},bt=y=>{const{data:l}=me({}),[D,P]=g.exports.useState(),[k,v]=g.exports.useState(),[j,c]=g.exports.useState(),[d,u]=g.exports.useState(),[t,L]=g.exports.useState(),[B,S]=g.exports.useState(),[C,m]=g.exports.useState(),[w,I]=g.exports.useState(),[G,U]=g.exports.useState(),[M,W]=g.exports.useState(),[h,N]=g.exports.useState(),[R,A]=g.exports.useState(),[V,le]=g.exports.useState(),[s,i]=g.exports.useState(),[b,n]=g.exports.useState(),{data:F,isLoading:z}=Le({club_id:l==null?void 0:l.club,search:D,sport:h!=="0"?h:void 0,page:B},{skip:!(l!=null&&l.club)}),{data:E,isLoading:r}=nt({club_id:l==null?void 0:l.club,search:k,sport:R,page:C},{skip:!(l!=null&&l.club)}),{data:e,isLoading:x}=st({club_id:l==null?void 0:l.club,search:d,sport:s,page:G},{skip:!(l!=null&&l.club)}),{data:o,isLoading:p}=Ee({club_id:l==null?void 0:l.club,search:j,sport:V,page:w},{skip:!(l!=null&&l.club)}),{data:f,isLoading:O}=ot({club_id:l==null?void 0:l.club,search:t,sport:b,page:M},{skip:!(l!=null&&l.club)});return _("div",{className:"flex flex-col gap-6  pt-6 mb-10",children:[a(de,{setUserSearch:v,type:"Coach",data:E==null?void 0:E.results,pageCount:E==null?void 0:E.pages_count,setPage:m,fetching:r,setSport:A,sport:R}),o&&a(de,{setUserSearch:c,type:"Attendance Moderator",data:o==null?void 0:o.results,pageCount:o==null?void 0:o.pages_count,setPage:I,fetching:p,setSport:le,sport:V}),a(de,{setUserSearch:u,type:"Supervisor",data:e==null?void 0:e.results,pageCount:e==null?void 0:e.pages_count,setPage:U,fetching:x,setSport:i,sport:s}),a(de,{type:"Player",setUserSearch:P,data:F==null?void 0:F.results,pageCount:F==null?void 0:F.pages_count,setPage:S,fetching:z,setSport:N,sport:h}),a(de,{type:"Parent",setUserSearch:L,data:f==null?void 0:f.results,pageCount:f==null?void 0:f.pages_count,setPage:W,fetching:O,setSport:n,sport:b})]})};export{bt as default};
