import{u as Q,r as n,a as b,s as E,b as H,c as A,d as D,e as L,f as U,j as e,F as _,g as d,G as o,H as V,T as k,U as z,S as B,A as J,L as O,N as $}from"./index.9444e5bf.js";const M=q=>{const{ref:v,inView:l}=Q(),[u,f]=n.exports.useState(2),[x,c]=n.exports.useState(1),[g,m]=n.exports.useState([]),[C,h]=n.exports.useState(!1),s=b(E),{data:p}=H({}),[I,j]=n.exports.useState(0),{data:t}=A({team_id:s==null?void 0:s.id,page:x},{skip:!s||(p==null?void 0:p.user_type)!=="Coach"});n.exports.useEffect(()=>{t&&(m(x===1?t==null?void 0:t.results:[...g,...t==null?void 0:t.results]),(t==null?void 0:t.pages_count)&&(t==null?void 0:t.pages_count)>=u?h(!0):h(!1))},[t]);const S=()=>{c(1),f(2)};n.exports.useEffect(()=>{if(l)if((t==null?void 0:t.pages_count)&&(t==null?void 0:t.pages_count)>=u)c(u),f(u+1);else return},[l]);const{data:i}=D({team_id:s==null?void 0:s.id}),{data:a}=L({});n.exports.useEffect(()=>{if(i&&a){const r=a==null?void 0:a.results.filter(N=>{var w;return N.name===((w=i==null?void 0:i.sport)==null?void 0:w.name)})[0].id;j(r),console.log("currentTeamSportId",r)}},[i,a]);const{data:G,refetch:F}=U({team_id:s==null?void 0:s.id,sport_id:I});return e(_,{children:s?e("div",{className:"m-4",children:d(o,{gutter:"sm",children:[e(o.Col,{span:12,sm:5,children:e(V,{})}),e(o.Col,{span:12,xs:8,sm:4,children:e("div",{className:"bg-white p-4 rounded-3xl min-h-full",children:e(k,{teamInfo:i,teamId:(s==null?void 0:s.id)!==void 0?JSON.stringify(s==null?void 0:s.id):"1"})})}),e(o.Col,{span:12,xs:4,sm:3,children:e(z,{})}),d(o.Col,{className:`bg-white p-2 rounded-3xl ${t?"flex-start":"justify-center"} items-center flex-wrap`,span:12,children:[e("h2",{className:"p-2 text-center text-lg",children:"Team Players"}),d("div",{className:"flex flex-wrap justify-center gap-2 xs:gap-4  mt-4",children:[g.map((r,N)=>e(B,{resetAllData:S,teamId:s==null?void 0:s.id,id:r.id,name:r.name,image:r.icon},r.id)),e(J,{resetAllData:S,filteredPlayers:G,refetchFilteredPlayers:F,teamInfo:i,coach_team_id:s==null?void 0:s.id})]}),C&&d("div",{className:"bg-perfBlue mx-auto my-4 rounded-2xl flex gap-2 w-fit py-2 items-center justify-center px-6 text-white text-sm",ref:v,children:[e("span",{children:"Loading Players"})," ",e(O,{color:"white",size:"md",variant:"dots"})]}),e(_,{children:!(t!=null&&t.results.length)&&d("div",{className:"flex flex-col md:flex-row justify-center items-center gap-3",children:[e("img",{className:"md:w-72 md:my-5",src:"/assets/images/noteams.png",alt:"no teams"}),e("p",{children:"This team has no players yet"})]})})]})]})}):e($,{})})};export{M as default};
