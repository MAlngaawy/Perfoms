import{b as ce,r as p,R as ke,h as xe,i as Le,j as a,F as le,g as w,k as ne,l as me,m as ye,n as Ae,o as _e,p as Y,q as be,t as Re,v as Fe,M as Ce,w as Me,x as K,D as qe,y as se,z as Pe,B as Ue,V as Ee,C as Oe,E as Be,I as He,J as Ge,K as Je,O as Ye,P as $e,Q as We,W as Qe,X as Se,Y as Ve,Z as ze,_ as Ie,$ as Ke,a0 as Ze,a1 as Xe,a2 as ve,a3 as et,G as Te,a4 as tt,a5 as at,a6 as rt,a7 as nt,a8 as st,a9 as ot,aa as it,ab as lt,ac as ct}from"./index.feb3b882.js";const dt=({setFormInputsData:b,formInputsData:i,setSelectedTeam:D,selectedTeam:C,handleChange:x,errors:g,setSelectedSportName:_})=>{const{data:c}=ce(null),[l,u]=p.exports.useState([]),[t,O]=ke.useState([]),[j,A]=p.exports.useState(0),{data:y}=xe({club_id:c==null?void 0:c.club},{skip:!(c!=null&&c.club)}),{data:P}=Le({sport_id:j},{skip:!j});return p.exports.useEffect(()=>{O([]),b({...i,team:""}),D(null),y&&y.results&&u(y.results),P&&P.results.length>0?O(P.results):(O([]),b({...i,team:""}),D(null))},[y,P,j]),a(le,{children:w("div",{className:"flex gap-4 w-full my-4",children:[a("div",{className:"w-1/2",children:a(ne,{error:g.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:l==null?void 0:l.map(N=>({value:N.id,label:N.name})),onChange:N=>{if(N){A(+N),x("sport",+N);let R=l.filter(k=>k.id===N);_(R[0].name)}}})}),a("div",{className:"w-1/2",children:a(ne,{id:"team",error:g.team,required:!0,className:"w-full",label:"Team",name:"team",value:C,onChange:N=>{N&&(D(N),x("team",+N))},sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:t==null?void 0:t.map(N=>({label:N.name,value:N.id}))})})]})})},ut=p.exports.forwardRef(({image:b,label:i,id:D,...C},x)=>a("div",{ref:x,...C,children:w(me,{noWrap:!0,children:[a(ye,{radius:"xl",size:"sm",src:b}),a("div",{children:a(Ae,{size:"sm",children:i})})]})})),pt=_e().shape({parent:Y().required("You  have to select a parent").typeError("It Must Be Number"),name:Y().max(100,"Name Can't be more than 100 character").required("Player Name is required"),dob:Y(),sport:be().required("You Must select a sport").typeError("You Have to select a sport"),team:be().required("You  Must select a team").typeError("You Have to select a team"),weight:Y(),height:Y(),front_leg:Y(),phoneNumber:Y().length(11,"phone number must be 11 characters long").optional().matches(/^\d+$/,"phone number must only contain numbers"),gender:Y()}),we={name:"",dob:"",sport:"",team:"",weight:"",height:"",front_leg:"",phoneNumber:"",gender:""},mt=b=>{const[i,D]=p.exports.useState(""),{data:C}=ce(null),{refetch:x}=Re({club_id:C==null?void 0:C.club},{skip:!(C!=null&&C.club)}),[g,_]=p.exports.useState(!1),[c,l]=p.exports.useState(we),[u,t]=p.exports.useState(null),[O,j]=p.exports.useState([{label:"",value:"",image:""}]),[A,y]=p.exports.useState(!1),[P,N]=p.exports.useState({}),[R,k]=p.exports.useState(null),{data:S}=Fe({club_id:C==null?void 0:C.club},{skip:!(C!=null&&C.club)});p.exports.useEffect(()=>{if(S){const f=S==null?void 0:S.results.map(E=>({label:E.first_name+" "+E.last_name,value:JSON.stringify(E.id),image:E.avatar}));j(f)}},[S]);const B=(f,E)=>{l({...c,[f]:E})};return a("div",{children:w(le,{children:[a(Ce,{opened:g,onClose:()=>{_(!1)},title:"Create Player",children:w("form",{onSubmit:async f=>{f.preventDefault(),N({});const E=new FormData(f.currentTarget);try{if(await pt.validate(c,{abortEarly:!1}),u){const F=await se.resizeImage(u);E.append("icon",F)}E.set("phone","+2"+E.get("phone"));try{y(!0),Ue.post("club-manager/add-player/",E).then(F=>{y(!1),_(!1),t(null),x(),l(we)}).catch(F=>{y(!1),console.log(F.response.statusText)})}catch(F){console.log(F)}}catch(F){console.log(F);const T={};F instanceof Ee&&(F.inner.forEach(z=>{T[z.path]=z.message}),N(T))}},className:"rounded-3xl",children:[a(Me,{inputAlt:"Player Photo",userAvatar:u,setUserAvatar:t}),w("div",{className:"flex flex-col my-4 justify-center items-center gap-2",children:[a("div",{className:"w-full",children:a(ne,{id:"parent",name:"parent",data:O,error:P.parent,itemComponent:ut,label:"Parent",onChange:f=>B("parent",f),sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},rightSection:!1,className:"m-0 p-0 h-fit border-0"})}),w("div",{className:"flex gap-4 w-full",children:[a("div",{className:"w-1/2",children:a(K,{id:"name",name:"name",label:"Name",withAsterisk:!0,error:P.name,onChange:f=>B("name",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})}),a("div",{className:"w-1/2",children:a(qe,{label:"Date of birth",name:"dob",maxDate:new Date,inputFormat:"YYYY-MM-DD",error:P.dob,onChange:f=>B("dob",se.formatDate(f)),sx:{".mantine-DatePicker-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]})]}),a(dt,{errors:P,formInputsData:c,handleChange:B,selectedTeam:R,setFormInputsData:l,setSelectedTeam:k,setSelectedSportName:D}),i.toLocaleLowerCase()==="taekwondo"?w(le,{children:[w("div",{className:"flex gap-4 my-2",children:[a("div",{className:"w-1/2",children:a(K,{id:"world_weight",label:"World Weight",error:P.weight,name:"world_weight",onChange:f=>B("world_weight",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),a("div",{className:"w-1/2",children:a(K,{id:"olympic_weight",label:"Olympic Weight",error:P.weight,name:"olympic_weight",onChange:f=>B("olympic_weight",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),a("div",{className:"my-2",children:a(ne,{id:"front_leg",error:P.front_leg,className:"w-full",label:"Preferred Front Leg",name:"front_leg",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:[{value:"LEFT",label:"Left"},{value:"RIGHT",label:"Right"},{value:"BOTH",label:"Both"}]})}),a("div",{className:"my-2",children:a(K,{id:"height",label:"Height",name:"height",error:P.height,onChange:f=>B("height",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}):w("div",{className:"flex gap-4 my-4",children:[a("div",{className:"w-1/2",children:a(K,{id:"weight",label:"Weight",error:P.weight,name:"weight",onChange:f=>B("weight",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})}),a("div",{className:"w-1/2",children:a(K,{id:"height",label:"Height",name:"height",error:P.height,onChange:f=>B("height",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})})]}),w("div",{className:"w-full flex flex-col gap-4 my-4",children:[a(ne,{id:"gender",error:P.gender,className:"w-full",label:"Gender",name:"gender",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:[{label:"Males",value:"M"},{label:"Females",value:"F"}]}),a(K,{id:"phoneNumber",label:"phone number",name:"phone",error:P.phoneNumber,onChange:f=>B("phoneNumber",f.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0}}})]}),a(Pe,{isLoading:A,text:"Add Player"})]})}),a(me,{position:"left",children:a("button",{className:"py-1 px-4 transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:()=>_(!0),children:"+ Create Player"})})]})})},Ne={first_name:"",last_name:"",sport:void 0,teams:[],password:"",confirmPassword:"",mobile:""},gt=({userType:b})=>{const[i,{open:D,close:C}]=Oe(!1),{data:x}=ce(null),[g,_]=p.exports.useState(Ne),[c,l]=p.exports.useState(!1),[u,t]=p.exports.useState(null),[O,j]=p.exports.useState({}),{refetch:A}=Be({club_id:x==null?void 0:x.club},{skip:!(x!=null&&x.club)}),y=(n,q)=>{_({...g,[n]:q})},P=["Coach","Attendance Moderator"].includes(b),N=b!=="Parent",R=_e().shape({mobile:Y().required("Phone number is required").length(11,"phone number must be 11 characters long").matches(/^\d+$/,"phone number must only contain numbers"),first_name:Y().required("First name is required"),last_name:Y().required("Last name is required"),sport:N?Y().required("Sport is required"):Y(),teams:He().of(be()).min(P?1:0,"At least on team is required"),password:Y().required("Password is required").min(8,"Password must be at least 8 characters long"),confirmPassword:Y().required("Please confirm your password").oneOf([Ge("password"),null],"Passwords must match")}),[k,S]=p.exports.useState([]),[B,G]=ke.useState([]),[f,E]=p.exports.useState(0),{data:F}=xe({club_id:x==null?void 0:x.club},{skip:!(x!=null&&x.club)}),{data:T}=Le({sport_id:f},{skip:!f});p.exports.useEffect(()=>{F&&F.results&&S(F.results),T&&T.results.length>0?G(T.results):(G([]),_({...g,teams:[]}),t(null))},[F,T,f]);const[z]=Je(),[de]=Ye(),[o]=$e(),[d]=We(),v=async n=>{n.preventDefault();const q={mobile:"+2"+g.mobile,first_name:g.first_name,last_name:g.last_name,password:g.password,sport:N?g.sport:void 0,teams:P?g.teams:void 0},$=async I=>{I(q).then(()=>{l(!1),C(),A(),_(Ne),se.showNotificationFun("Success","Done",`${b} Added Successfully`)}).catch(r=>{l(!1),se.showNotificationFun("Error","Sorry",r.response.statusText)})};try{l(!0),await R.validate(g,{abortEarly:!1}),b==="Attendance Moderator"?$(z):b==="Coach"?$(de):b==="Supervisor"?$(o):b==="Parent"&&$(d)}catch(I){l(!1);const r={};I instanceof Ee&&(I.inner.forEach(e=>{r[e.path]=e.message}),j(r))}};return w(le,{children:[a(Ce,{opened:i,onClose:C,title:`Add ${b}`,children:w("form",{onSubmit:v,className:"rounded-xl py-4 flex flex-col gap-4 justify-between",children:[a(K,{id:"mobile",name:"mobile",label:"Mobile",withAsterisk:!0,error:O.mobile,onChange:n=>y("mobile",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),w("div",{className:"flex gap-2",children:[a(K,{id:"first_name",name:"first_name",label:"First Name",withAsterisk:!0,error:O.first_name,onChange:n=>y("first_name",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(K,{autoComplete:"off",id:"last_name",name:"last_name",label:"Last Name",withAsterisk:!0,error:O.last_name,onChange:n=>y("last_name",n.target.value),sx:{".mantine-TextInput-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}})]}),N&&w("div",{className:"flex flex-col gap-4 w-full my-4",children:[a(ne,{error:O.sport,id:"sport",required:!0,className:"w-full",label:"Sport",name:"sport",sx:{".mantine-Select-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:k==null?void 0:k.map(n=>({value:n.id,label:n.name})),onChange:n=>{n&&E(+n),n&&y("sport",+n)}}),P&&a(Qe,{id:"teams",error:O.teams,required:!0,className:"w-full",label:"Teams",name:"teams",value:u,onChange:n=>{console.log(n),n&&(t(n),y("teams",n))},sx:{".mantine-MultiSelect-input":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}},data:B==null?void 0:B.map(n=>({label:n.name,value:n.id}))})]}),a(Se,{autoComplete:"new-password",id:"password",name:"password",label:"Password",error:O.password,withAsterisk:!0,onChange:n=>y("password",n.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(Se,{autoComplete:"new-password",id:"confirmPassword",name:"confirm Password",label:"Confirm Password",error:O.confirmPassword,withAsterisk:!0,onChange:n=>y("confirmPassword",n.target.value),sx:{".mantine-PasswordInput-input":{border:0},".mantine-PasswordInput-innerInput":{background:"none",border:0,borderBottom:"1px solid",borderRadius:0,width:"100%"}}}),a(Pe,{isLoading:c,text:`Create ${b}`})]})}),a(me,{position:"left",children:w(le,{children:[a("button",{className:"py-1 xs:hidden px-4 transform hover:scale-105 transition-all text-xs sm:text-base border border-perfGray3 text-perfGray3 rounded-3xl",onClick:D,children:"+"}),w("button",{className:"py-1 px-4 hidden xs:block transform hover:scale-105 transition-all text-xs border border-perfGray3 text-perfGray3 rounded-3xl",onClick:D,children:["+ Add ",b]})]})})]})};var De={exports:{}};(function(b,i){(function(D,C){b.exports=C(p.exports)})(Ve,D=>(()=>{var C={703:(c,l,u)=>{var t=u(414);function O(){}function j(){}j.resetWarningCache=O,c.exports=function(){function A(N,R,k,S,B,G){if(G!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}function y(){return A}A.isRequired=A;var P={array:A,bigint:A,bool:A,func:A,number:A,object:A,string:A,symbol:A,any:A,arrayOf:y,element:A,elementType:A,instanceOf:y,node:A,objectOf:y,oneOf:y,oneOfType:y,shape:y,exact:y,checkPropTypes:j,resetWarningCache:O};return P.PropTypes=P,P}},697:(c,l,u)=>{c.exports=u(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:c=>{c.exports=D}},x={};function g(c){var l=x[c];if(l!==void 0)return l.exports;var u=x[c]={exports:{}};return C[c](u,u.exports,g),u.exports}g.n=c=>{var l=c&&c.__esModule?()=>c.default:()=>c;return g.d(l,{a:l}),l},g.d=(c,l)=>{for(var u in l)g.o(l,u)&&!g.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:l[u]})},g.o=(c,l)=>Object.prototype.hasOwnProperty.call(c,l),g.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var _={};return(()=>{g.r(_),g.d(_,{default:()=>de});var c=g(98),l=g.n(c),u=g(697),t=g.n(u);function O(){return O=Object.assign?Object.assign.bind():function(o){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&(o[n]=v[n])}return o},O.apply(this,arguments)}var j=function(o){var d=o.pageClassName,v=o.pageLinkClassName,n=o.page,q=o.selected,$=o.activeClassName,I=o.activeLinkClassName,r=o.getEventListener,e=o.pageSelectedHandler,L=o.href,s=o.extraAriaContext,m=o.pageLabelBuilder,h=o.rel,M=o.ariaLabel||"Page "+n+(s?" "+s:""),J=null;return q&&(J="page",M=o.ariaLabel||"Page "+n+" is your current page",d=d!==void 0?d+" "+$:$,v!==void 0?I!==void 0&&(v=v+" "+I):v=I),l().createElement("li",{className:d},l().createElement("a",O({rel:h,role:L?void 0:"button",className:v,href:L,tabIndex:q?"-1":"0","aria-label":M,"aria-current":J,onKeyPress:e},r(e)),m(n)))};j.propTypes={pageSelectedHandler:t().func.isRequired,selected:t().bool.isRequired,pageClassName:t().string,pageLinkClassName:t().string,activeClassName:t().string,activeLinkClassName:t().string,extraAriaContext:t().string,href:t().string,ariaLabel:t().string,page:t().number.isRequired,getEventListener:t().func.isRequired,pageLabelBuilder:t().func.isRequired,rel:t().string};const A=j;function y(){return y=Object.assign?Object.assign.bind():function(o){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&(o[n]=v[n])}return o},y.apply(this,arguments)}var P=function(o){var d=o.breakLabel,v=o.breakAriaLabel,n=o.breakClassName,q=o.breakLinkClassName,$=o.breakHandler,I=o.getEventListener,r=n||"break";return l().createElement("li",{className:r},l().createElement("a",y({className:q,role:"button",tabIndex:"0","aria-label":v,onKeyPress:$},I($)),d))};P.propTypes={breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabel:t().string,breakClassName:t().string,breakLinkClassName:t().string,breakHandler:t().func.isRequired,getEventListener:t().func.isRequired};const N=P;function R(o){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return o!=null?o:d}function k(o){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},k(o)}function S(){return S=Object.assign?Object.assign.bind():function(o){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&(o[n]=v[n])}return o},S.apply(this,arguments)}function B(o,d){for(var v=0;v<d.length;v++){var n=d[v];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function G(o,d){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,n){return v.__proto__=n,v},G(o,d)}function f(o,d){if(d&&(k(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(o)}function E(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function F(o){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},F(o)}function T(o,d,v){return d in o?Object.defineProperty(o,d,{value:v,enumerable:!0,configurable:!0,writable:!0}):o[d]=v,o}var z=function(o){(function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&G(r,e)})(I,o);var d,v,n,q,$=(n=I,q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var r,e=F(n);if(q){var L=F(this).constructor;r=Reflect.construct(e,arguments,L)}else r=e.apply(this,arguments);return f(this,r)});function I(r){var e,L;return function(s,m){if(!(s instanceof m))throw new TypeError("Cannot call a class as a function")}(this,I),T(E(e=$.call(this,r)),"handlePreviousPage",function(s){var m=e.state.selected;e.handleClick(s,null,m>0?m-1:void 0,{isPrevious:!0})}),T(E(e),"handleNextPage",function(s){var m=e.state.selected,h=e.props.pageCount;e.handleClick(s,null,m<h-1?m+1:void 0,{isNext:!0})}),T(E(e),"handlePageSelected",function(s,m){if(e.state.selected===s)return e.callActiveCallback(s),void e.handleClick(m,null,void 0,{isActive:!0});e.handleClick(m,null,s)}),T(E(e),"handlePageChange",function(s){e.state.selected!==s&&(e.setState({selected:s}),e.callCallback(s))}),T(E(e),"getEventListener",function(s){return T({},e.props.eventListener,s)}),T(E(e),"handleClick",function(s,m,h){var M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},J=M.isPrevious,Z=J!==void 0&&J,ie=M.isNext,ue=ie!==void 0&&ie,oe=M.isBreak,Q=oe!==void 0&&oe,X=M.isActive,ee=X!==void 0&&X;s.preventDefault?s.preventDefault():s.returnValue=!1;var te=e.state.selected,U=e.props.onClick,V=h;if(U){var W=U({index:m,selected:te,nextSelectedPage:h,event:s,isPrevious:Z,isNext:ue,isBreak:Q,isActive:ee});if(W===!1)return;Number.isInteger(W)&&(V=W)}V!==void 0&&e.handlePageChange(V)}),T(E(e),"handleBreakClick",function(s,m){var h=e.state.selected;e.handleClick(m,s,h<s?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),T(E(e),"callCallback",function(s){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:s})}),T(E(e),"callActiveCallback",function(s){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:s})}),T(E(e),"getElementPageRel",function(s){var m=e.state.selected,h=e.props,M=h.nextPageRel,J=h.prevPageRel,Z=h.selectedPageRel;return m-1===s?J:m===s?Z:m+1===s?M:void 0}),T(E(e),"pagination",function(){var s=[],m=e.props,h=m.pageRangeDisplayed,M=m.pageCount,J=m.marginPagesDisplayed,Z=m.breakLabel,ie=m.breakClassName,ue=m.breakLinkClassName,oe=m.breakAriaLabels,Q=e.state.selected;if(M<=h)for(var X=0;X<M;X++)s.push(e.getPageElement(X));else{var ee=h/2,te=h-ee;Q>M-h/2?ee=h-(te=M-Q):Q<h/2&&(te=h-(ee=Q));var U,V,W=function(ae){return e.getPageElement(ae)},H=[];for(U=0;U<M;U++){var ge=U+1;if(ge<=J)H.push({type:"page",index:U,display:W(U)});else if(ge>M-J)H.push({type:"page",index:U,display:W(U)});else if(U>=Q-ee&&U<=Q+(Q===0&&h>1?te-1:te))H.push({type:"page",index:U,display:W(U)});else if(Z&&H.length>0&&H[H.length-1].display!==V&&(h>0||J>0)){var fe=U<Q?oe.backward:oe.forward;V=l().createElement(N,{key:U,breakAriaLabel:fe,breakLabel:Z,breakClassName:ie,breakLinkClassName:ue,breakHandler:e.handleBreakClick.bind(null,U),getEventListener:e.getEventListener}),H.push({type:"break",index:U,display:V})}}H.forEach(function(ae,re){var he=ae;ae.type==="break"&&H[re-1]&&H[re-1].type==="page"&&H[re+1]&&H[re+1].type==="page"&&H[re+1].index-H[re-1].index<=2&&(he={type:"page",index:ae.index,display:W(ae.index)}),s.push(he.display)})}return s}),r.initialPage!==void 0&&r.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(r.initialPage,") and forcePage (").concat(r.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),L=r.initialPage?r.initialPage:r.forcePage?r.forcePage:0,e.state={selected:L},e}return d=I,(v=[{key:"componentDidMount",value:function(){var r=this.props,e=r.initialPage,L=r.disableInitialCallback,s=r.extraAriaContext,m=r.pageCount,h=r.forcePage;e===void 0||L||this.callCallback(e),s&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(m)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(m,"). Did you forget a Math.ceil()?")),e!==void 0&&e>m-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(m-1,").")),h!==void 0&&h>m-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(h," > ").concat(m-1,")."))}},{key:"componentDidUpdate",value:function(r){this.props.forcePage!==void 0&&this.props.forcePage!==r.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(r.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var r=this.state.selected,e=this.props,L=e.pageCount,s=r+e.pageRangeDisplayed;return s>=L?L-1:s}},{key:"getBackwardJump",value:function(){var r=this.state.selected-this.props.pageRangeDisplayed;return r<0?0:r}},{key:"getElementHref",value:function(r){var e=this.props,L=e.hrefBuilder,s=e.pageCount,m=e.hrefAllControls;if(L)return m||r>=0&&r<s?L(r+1,s,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(r){var e=r===this.state.selected;if(this.props.ariaLabelBuilder&&r>=0&&r<this.props.pageCount){var L=this.props.ariaLabelBuilder(r+1,e);return this.props.extraAriaContext&&!e&&(L=L+" "+this.props.extraAriaContext),L}}},{key:"getPageElement",value:function(r){var e=this.state.selected,L=this.props,s=L.pageClassName,m=L.pageLinkClassName,h=L.activeClassName,M=L.activeLinkClassName,J=L.extraAriaContext,Z=L.pageLabelBuilder;return l().createElement(A,{key:r,pageSelectedHandler:this.handlePageSelected.bind(null,r),selected:e===r,rel:this.getElementPageRel(r),pageClassName:s,pageLinkClassName:m,activeClassName:h,activeLinkClassName:M,extraAriaContext:J,href:this.getElementHref(r),ariaLabel:this.ariaLabelBuilder(r),page:r+1,pageLabelBuilder:Z,getEventListener:this.getEventListener})}},{key:"render",value:function(){var r=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&r!==void 0)return r&&r(this.props);var e=this.props,L=e.disabledClassName,s=e.disabledLinkClassName,m=e.pageCount,h=e.className,M=e.containerClassName,J=e.previousLabel,Z=e.previousClassName,ie=e.previousLinkClassName,ue=e.previousAriaLabel,oe=e.prevRel,Q=e.nextLabel,X=e.nextClassName,ee=e.nextLinkClassName,te=e.nextAriaLabel,U=e.nextRel,V=this.state.selected,W=V===0,H=V===m-1,ge="".concat(R(Z)).concat(W?" ".concat(R(L)):""),fe="".concat(R(X)).concat(H?" ".concat(R(L)):""),ae="".concat(R(ie)).concat(W?" ".concat(R(s)):""),re="".concat(R(ee)).concat(H?" ".concat(R(s)):""),he=W?"true":"false",je=H?"true":"false";return l().createElement("ul",{className:h||M,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:ge},l().createElement("a",S({className:ae,href:this.getElementHref(V-1),tabIndex:W?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":he,"aria-label":ue,rel:oe},this.getEventListener(this.handlePreviousPage)),J)),this.pagination(),l().createElement("li",{className:fe},l().createElement("a",S({className:re,href:this.getElementHref(V+1),tabIndex:H?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":je,"aria-label":te,rel:U},this.getEventListener(this.handleNextPage)),Q)))}}])&&B(d.prototype,v),Object.defineProperty(d,"prototype",{writable:!1}),I}(c.Component);T(z,"propTypes",{pageCount:t().number.isRequired,pageRangeDisplayed:t().number,marginPagesDisplayed:t().number,previousLabel:t().node,previousAriaLabel:t().string,prevPageRel:t().string,prevRel:t().string,nextLabel:t().node,nextAriaLabel:t().string,nextPageRel:t().string,nextRel:t().string,breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabels:t().shape({forward:t().string,backward:t().string}),hrefBuilder:t().func,hrefAllControls:t().bool,onPageChange:t().func,onPageActive:t().func,onClick:t().func,initialPage:t().number,forcePage:t().number,disableInitialCallback:t().bool,containerClassName:t().string,className:t().string,pageClassName:t().string,pageLinkClassName:t().string,pageLabelBuilder:t().func,activeClassName:t().string,activeLinkClassName:t().string,previousClassName:t().string,nextClassName:t().string,previousLinkClassName:t().string,nextLinkClassName:t().string,disabledClassName:t().string,disabledLinkClassName:t().string,breakClassName:t().string,breakLinkClassName:t().string,extraAriaContext:t().string,ariaLabelBuilder:t().func,eventListener:t().string,renderOnZeroPageCount:t().func,selectedPageRel:t().string}),T(z,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(o){return o},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const de=z})(),_})())})(De);const ht=ze(De.exports);function ft({pageCount:b,searchInputValue:i,setPage:D,sport:C}){const[x,g]=p.exports.useState(""),[_,c]=p.exports.useState(1);return p.exports.useEffect(()=>{c(1),g(i||"")},[i,C]),a(ht,{breakLabel:"..",nextLabel:">",onPageChange:u=>{D(u.selected+1),c(u.selected+1)},pageRangeDisplayed:3,pageCount:b&&b>1&&b||0,previousLabel:"<",renderOnZeroPageCount:null,className:"flex justify-center items-center gap-4 ",pageLinkClassName:"w-6 flex justify-center items-center rounded-full hover:bg-blue-400 hover:pointer",activeLinkClassName:"bg-perfBlue rounded-full text-white hover:bg-perfBlue",nextLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105",previousLinkClassName:"bg-gray-200 w-6 flex justify-center items-center rounded-full pointer transform hover:scale-105",forcePage:x===i?(_||0)-1:0})}function bt({player:b}){const[i,{open:D,close:C}]=Oe(!1),{data:x}=ce({}),g=x==null?void 0:x.club,[_,c]=p.exports.useState(null);p.exports.useState([]);const{data:l}=Ie({club_id:g},{skip:!g});p.exports.useEffect(()=>{const k=l==null?void 0:l.results.find(S=>S.first_name+" "+S.last_name===b.parent_name);k!==void 0&&c(k)},[l]);const[u,t]=p.exports.useState();p.exports.useEffect(()=>{var S;const k=l&&l.results.length>0?(S=l.results)==null?void 0:S.map(B=>({label:B.first_name+" "+B.last_name,value:JSON.stringify(B.id),image:B.avatar})):[];t(k)},[l]);const O=p.exports.forwardRef(({image:k,label:S,id:B,...G},f)=>a("div",{ref:f,...G,children:w(me,{noWrap:!0,children:[a(ye,{radius:"xl",size:"sm",src:k}),a("div",{children:a(Ae,{size:"sm",children:S})})]})})),{handleSubmit:j,formState:{errors:A},reset:y,control:P}=Ke({defaultValues:{parentId:JSON.stringify(_==null?void 0:_.id)}}),[N]=Ze();return w(le,{children:[a(Ce,{opened:i,onClose:C,title:"Assign Parent To Player",children:w("form",{onSubmit:j(k=>{console.log("datadatadatadata",k),N({parent:k.parentId,player:(b==null?void 0:b.id)||0}).then(S=>{console.log("resresresresresres",S.data),S.data.errors?se.showNotificationFun("Error","Sorry",S.data.message):(C(),se.showNotificationFun("Success","Done",S.data.message))})}),children:[a(Xe,{control:P,name:"parentId",defaultValue:JSON.stringify(_==null?void 0:_.id),render:({field:k})=>a(ne,{...k,placeholder:"Choose Player",autoFocus:!0,searchable:!0,itemComponent:O,maxDropdownHeight:400,nothingFound:"No options",data:u||[],filter:(S,B)=>{var G;return((G=B.label)==null?void 0:G.toLowerCase().includes(S.toLowerCase().trim()))||!1}})}),a(Pe,{isLoading:!1,text:"Assign Parent"})]})}),a(me,{position:"center",children:a(ve,{onClick:()=>D(),icon:"LinkIcon:outline",className:"w-4 h-4 text-perfGray hover:text-perfBlue cursor-pointer"})})]})}const pe=({type:b,data:i,setUserSearch:D,pageCount:C,setPage:x,fetching:g,sport:_,setSport:c,count:l})=>{var N;const u=c!=null?c:()=>{},[t,O]=p.exports.useState([{label:"All",value:"0"}]),{data:j}=ce({}),{data:A}=xe({club_id:j==null?void 0:j.club});p.exports.useEffect(()=>{if(A){let R=[{label:"All",value:"0"}];for(let k of A.results)R.push({label:k.name,value:JSON.stringify(k.id)});O(R)}},[A]);const y=p.exports.useRef(null),P=R=>{var S;R.preventDefault();const k=(S=y.current)==null?void 0:S.value;D(k),x(void 0)};return w("div",{className:"bg-white rounded-lg p-4 pt-0 ",children:[w("div",{className:"header flex flex-col sm:flex-row justify-between items-start py-4 gap-4",children:[w("div",{className:"flex justify-between items-center w-full",children:[w("h2",{className:"text-sm sm:text-lg text-perfGray1 mb-2 sm:mb-0",children:[b==="Coach"?"Coaches":b+"s"," in the system",w("span",{className:"mx-2 font-bold text-perfBlue",children:["(",l,")"]})]}),b==="Player"?a(mt,{}):a(gt,{userType:b})]}),w("div",{className:"  flex flex-wrap xs:flex-nowrap gap-6 justify-center items-center",children:[b!=="Parent"&&a(ne,{placeholder:"Filter By Sport",value:_,onChange:R=>{R&&R!="0"?(u(R),x(1)):u("0")},data:t}),w("form",{onSubmit:P,className:"flex justify-center items-center gap-2",children:[a(K,{onChange:R=>{R.target.value.length===0&&D(void 0)},ref:y,icon:a(ve,{className:"w-5 h-5 pointer",icon:"MagnifyingGlassIcon:outline"}),placeholder:"Search"}),a("button",{type:"submit",className:"p-2 rounded-md bg-perfBlue",children:a(ve,{className:"w-5 h-5 pointer text-white",icon:"MagnifyingGlassIcon:outline"})})]})]})]}),a("div",{className:"h-60 overflow-y-scroll",children:w("div",{className:"relative",children:[a(et,{visible:g,overlayBlur:2}),a(Te,{className:"w-full",gutter:"sm",children:i&&i.length>0?a(vt,{newData:i,type:b}):a("div",{className:"flex w-full items-center justify-center pt-10",children:w("h1",{className:"bg-pagesBg p-6",children:["No ",b," In this Club"]})})})]})}),a("div",{className:" overflow-scroll py-2",children:a(ft,{pageCount:C,sport:_,setPage:x,searchInputValue:(N=y.current)==null?void 0:N.value})})]})},vt=({newData:b,type:i})=>{const D=tt(),[C]=at(),[x]=rt(),[g]=nt(),[_]=st(),[c]=ot(),l=u=>{let t;switch(i.toLowerCase()){case"player":t=C({player_id:u});break;case"parent":t=c({parent_id:u});break;case"coach":t=x({coach_id:u});break;case"supervisor":t=g({supervisor_id:u});break;case"attendance moderator":t=_({subCoach_id:u});break;default:throw new Error("Invalid user type")}t.then(j=>{se.showNotificationFun("Success","Done","Successfully Deleted")}).catch(j=>{se.showNotificationFun("Error","Wrong","err.message")})};return b.map(u=>a(Te.Col,{className:"w-fit h-fit",span:12,xs:6,sm:4,children:w("div",{className:"flex justify-between rounded-3xl mr-2 items-center p-1  hover:bg-pagesBg transition-all",children:[w("div",{onClick:()=>i==="Player"&&D(`/players/${u.id}`),style:{cursor:i==="Player"?"pointer":"auto"},className:"coach-data flex gap-2 items-center",children:[a(ye,{src:u.avatar||u.icon,size:"sm",radius:"xl"}),a("h3",{className:"text-base text-perfGray2",children:u.first_name&&u.first_name+" "+u.last_name||u.name})]}),w("div",{className:"flex gap-2 items-center justify-center",children:[i==="Player"&&a(bt,{player:u}),a(it,{deleteFun:()=>l(JSON.stringify(u.id)),type:i,name:u.first_name||u.name})]})]})},u.id))},yt=b=>{const{data:i}=ce({}),[D,C]=p.exports.useState(),[x,g]=p.exports.useState(),[_,c]=p.exports.useState(),[l,u]=p.exports.useState(),[t,O]=p.exports.useState(),[j,A]=p.exports.useState(),[y,P]=p.exports.useState(),[N,R]=p.exports.useState(),[k,S]=p.exports.useState(),[B,G]=p.exports.useState(),[f,E]=p.exports.useState(),[F,T]=p.exports.useState(),[z,de]=p.exports.useState(),[o,d]=p.exports.useState(),[v,n]=p.exports.useState(),{data:q,isFetching:$}=Re({club_id:i==null?void 0:i.club,search:D,sport:f!=="0"?f:void 0,page:j},{skip:!(i!=null&&i.club)}),{data:I,isFetching:r}=lt({club_id:i==null?void 0:i.club,search:x,sport:F,page:y},{skip:!(i!=null&&i.club)}),{data:e,isFetching:L}=ct({club_id:i==null?void 0:i.club,search:l,sport:o,page:k},{skip:!(i!=null&&i.club)}),{data:s,isFetching:m}=Be({club_id:i==null?void 0:i.club,search:_,sport:z,page:N},{skip:!(i!=null&&i.club)}),{data:h,isFetching:M}=Ie({club_id:i==null?void 0:i.club,search:t,sport:v,page:B},{skip:!(i!=null&&i.club)});return w("div",{className:"flex flex-col gap-6 m-2  sm:m-4",children:[a(pe,{type:"Player",setUserSearch:C,data:q==null?void 0:q.results,pageCount:q==null?void 0:q.pages_count,setPage:A,fetching:$,setSport:E,sport:f,count:q==null?void 0:q.count}),a(pe,{setUserSearch:g,type:"Coach",data:I==null?void 0:I.results,pageCount:I==null?void 0:I.pages_count,setPage:P,fetching:r,setSport:T,sport:F,count:I==null?void 0:I.count}),s&&a(pe,{setUserSearch:c,type:"Attendance Moderator",data:s==null?void 0:s.results,pageCount:s==null?void 0:s.pages_count,setPage:R,fetching:m,setSport:de,sport:z,count:s==null?void 0:s.count}),a(pe,{setUserSearch:u,type:"Supervisor",data:e==null?void 0:e.results,pageCount:e==null?void 0:e.pages_count,setPage:S,fetching:L,setSport:d,sport:o,count:e==null?void 0:e.count}),a(pe,{type:"Parent",setUserSearch:O,data:h==null?void 0:h.results,pageCount:h==null?void 0:h.pages_count,setPage:G,fetching:M,setSport:n,sport:v,count:h==null?void 0:h.count})]})};export{yt as default};
